(this.webpackJsonphero_admin_panel=this.webpackJsonphero_admin_panel||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),i=n(4),o=n(1),l=n(9),u=n(3),d=n.n(u),b=n(5),j=function(){return{request:Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,c,r,a,s,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",c=i.length>2&&void 0!==i[2]?i[2]:null,r=i.length>3&&void 0!==i[3]?i[3]:{"Content-Type":"application/json"},e.prev=3,e.next=6,fetch(t,{method:n,body:c,headers:r});case 6:if((a=e.sent).ok){e.next=9;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 9:return e.next=11,a.json();case 11:return s=e.sent,e.abrupt("return",s);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),[])}},h=n(6),f=Object(h.b)("HEROES_FETCHING"),O=Object(h.b)("HEROES_FETCHED"),m=Object(h.b)("HERO_ADDED"),p=Object(h.b)("HERO_DELETE"),x=Object(h.b)("HEROES_FETCHING_ERROR"),g=n(2),v=function(e){var t,n=e.name,c=e.description,r=e.element,a=e.id,s=Object(i.b)(),o=j().request;switch(+r){case 2:t="bg-danger bg-gradient";break;case 3:t="bg-primary bg-gradient";break;case 4:t="bg-success bg-gradient";break;case 5:t="bg-secondary bg-gradient";break;default:t="bg-warning bg-gradient"}return Object(g.jsxs)("li",{className:"card flex-row mb-4 shadow-lg text-white  ".concat(t),children:[Object(g.jsx)("img",{src:"http://www.stpaulsteinbach.org/wp-content/uploads/2014/09/unknown-hero.jpg",className:"img-fluid w-25 d-inline",alt:"unknown hero",style:{objectFit:"cover"}}),Object(g.jsxs)("div",{className:"card-body ",children:[Object(g.jsx)("h3",{className:"card-title",children:n}),Object(g.jsx)("p",{className:"card-text",children:c})]}),Object(g.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light",children:Object(g.jsx)("button",{type:"button",className:"btn-close btn-close","aria-label":"Close",onClick:function(){s(f()),o("http://localhost:3001/heroes/".concat(a),"DELETE").then((function(e){s(p(a))}))}})})]})},N=function(){return Object(g.jsx)("div",{className:"spinner-border mx-auto mt-5",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},E=function(e){var t=Object(i.c)((function(e){return e.heroes})),n=t.heroes,r=t.heroesLoadingStatus,a=Object(i.c)((function(e){return e.filters})).filter,s=Object(i.b)(),u=j().request;if(Object(c.useEffect)((function(){s(function(e){return function(t){t(f()),e("http://localhost:3001/heroes").then((function(e){t(O(e))})).catch((function(){return t(x())}))}}(u))}),[]),"loading"===r)return Object(g.jsx)(N,{});if("error"===r)return Object(g.jsx)("h5",{className:"text-center mt-5",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"});var d,b=function(e){return 1===a?e:e.filter((function(e){return+e.element===a}))},h=0===(d=n).length?Object(g.jsx)("h5",{className:"text-center mt-5",children:"\u0413\u0435\u0440\u043e\u0435\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}):b(d).map((function(e){var t=e.id,n=Object(l.a)(e,["id"]);return Object(g.jsx)(v,Object(o.a)(Object(o.a)({},n),{},{id:t}),t)}));return Object(g.jsx)("ul",{children:h})},y=n(7),w=n(31),S=n(16),C=function(e){return e.map((function(e){return Object(g.jsx)("option",{value:e.id,"data-id":e.name,children:e.title},Object(w.a)())}))},_=function(){var e=Object(c.useState)([]),t=Object(y.a)(e,2),n=t[0],r=t[1],a=j().request,s=Object(S.a)(),l=s.register,u=s.handleSubmit,d=s.reset,b=Object(i.b)();Object(c.useEffect)((function(){a("http://localhost:3001/filters").then((function(e){r(e)})).catch((function(e){return console.log("error: ",e)}))}),[]);return Object(g.jsxs)("form",{className:"border p-4 shadow-lg rounded",onSubmit:u((function(e){e.id=Object(w.a)(),console.log(e);var t=JSON.stringify(e);b(f()),a("http://localhost:3001/heroes/","POST",t).then((function(e){b(m(e)),d()})).catch((function(e){return console.log(e)}))})),children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"name",className:"form-label fs-4",children:"\u0418\u043c\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0433\u0435\u0440\u043e\u044f"}),Object(g.jsx)("input",Object(o.a)(Object(o.a)({required:!0,type:"text"},l("name")),{},{className:"form-control",id:"name",placeholder:"\u041a\u0430\u043a \u043c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442?"}))]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"text",className:"form-label fs-4",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(g.jsx)("textarea",Object(o.a)(Object(o.a)({required:!0},l("description")),{},{className:"form-control",id:"text",placeholder:"\u0427\u0442\u043e \u044f \u0443\u043c\u0435\u044e?",style:{height:"130px"}}))]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"element",className:"form-label",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0433\u0435\u0440\u043e\u044f"}),Object(g.jsx)("select",Object(o.a)(Object(o.a)({required:!0,className:"form-select",id:"element"},l("element")),{},{children:C(n)}))]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})},k=function(){var e=Object(c.useState)([]),t=Object(y.a)(e,2),n=t[0],r=t[1],a=Object(i.c)((function(e){return e.filters})).filter,s=j().request,o=Object(i.b)();Object(c.useEffect)((function(){s("http://localhost:3001/filters").then((function(e){r(e)}))}),[]);return Object(g.jsx)("div",{className:"card shadow-lg mt-4",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("p",{className:"card-text",children:"\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0439\u0442\u0435 \u0433\u0435\u0440\u043e\u0435\u0432 \u043f\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c"}),Object(g.jsx)("div",{className:"btn-group",children:n?n.map((function(e){return Object(g.jsx)("button",{className:"".concat(e.class," ").concat(a===e.id?" active":""),onClick:function(){return t=e.id,void o(function(e){return{type:"FILTER_UPDATE",payload:e}}(t));var t},children:e.title},"filter_".concat(e.id))})):null})]})})},L=(n(27),function(){return Object(g.jsx)("main",{className:"app",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)(E,{}),Object(g.jsxs)("div",{className:"content__interactive",children:[Object(g.jsx)(_,{}),Object(g.jsx)(k,{})]})]})})}),T=Object(h.c)({heroes:[],heroesLoadingStatus:"idle"},(function(e){e.addCase(f,(function(e){e.heroesLoadingStatus="loading"})).addCase(O,(function(e,t){e.heroesLoadingStatus="idle",e.heroes=t.payload})).addCase(x,(function(e){e.heroesLoadingStatus="error"})).addCase(m,(function(e,t){e.heroesLoadingStatus="idle",e.heroes.push(t.payload)})).addCase(p,(function(e,t){e.heroes=e.heroes.filter((function(e){return e.id!==t.payload})),e.heroesLoadingStatus="idle"})).addDefaultCase((function(){}))})),R={filters:[],filter:1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_CLEAR":return Object(o.a)(Object(o.a)({},e),{},{filter:R.filter});case"FILTER_UPDATE":return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});default:return e}},D=function(){return function(e){return function(t){return e("string"===typeof t?{type:t}:t)}}},q=Object(h.a)({reducer:{heroes:T,filters:F},middleware:function(e){return e().concat(D)},devTools:!1});n(28);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(i.a,{store:q,children:Object(g.jsx)(L,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.9c1fc447.chunk.js.map